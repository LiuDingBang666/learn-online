# 学成在线-微服务架构（学习的主动性）

**客户端：用户、机构、运营端**

**核心功能模块：课程、学习**



## 面试

### 1、详细说说你的项目吧

从以下几个方面进行项目介绍:
1、项目的背景，包括:是自研还是外包、什么业务、服务的客户群是谁、谁去运营等问题。
2、项目的业务流程
3、项目的功能模块
4、项目的技术架构
5、个人工作职责
6、匿人负责模块的详细说明，包括模块的设计，所用到的技术，技术的实现方案等。一个例子:
我最近参与的项目是我们公司自研的专门针对成人职业技能教育的网络课堂系统，网站提供了成人职业技能培训的相关课程，
如:软件开发培训、职业资格证书培训、成人学历教育培训等课程。项目基于B2B2C的业务模式，培训机构可以在平台入驻、发布课程，
我们公司作为运营方由专门的人员对发布的课程进行审核，审核通过后课程才可以发布成功，课程包括免费和收费两种形式，
对于免费课程普通用户可以直接选课学习，对于收费课程在选课后需要支付成功才可以继续学习。
本项目包括三个端:用户端(学生端)、机构端、运营端。
核心模块包括:内容管理、媒资管理、课程搜索、订单支付、选课管理、认证授权等。
本项目采用前后端分离架构，后端采用SpringBoot.SpringCloud技术栈开发，数据库使用了MySQL，还使用的Redis、消息队列、
分布式文件系统、Elasticsearch等中间件系统。
划分的微服务包括:内容管理服务、媒资管理服务、搜索服务、订单支付服务、学习中心服务、系统管理服务、认证授权服务、
网关服务、注册中心服务、配置中心服务等。

### 2、Git

1. 代码冲突
   1. 通过Idea手动进行合并，中间的为最终版，合并完后先拉取后推送
2. 多分支开发
   1. 通过不同的版本会创建不同的分支，最终合并到主分组

### 3、Maven

1. 常用命令 mvn install、clean
2. maven依赖版本冲突（jar包版本简介依赖）
   1. 排除依赖解决
   2. dependsManagement锁定版本
   3. 通过idea插件树插件解决依赖问题



### 4、Mysql常见存储引擎及其区别

1、MySQL常见的存储引擎及区别?
-、InnoDB
1、支持事务。
2.使用的锁粒度默认为行级锁，可以支持更高的并发;也支持表锁。
3.支持外键约束;外键约束其实降低了表的查询速度，增加了表之间的耦合度。
二、MyISAM
1、不提供事务支持
2.只支持表级锁
3.不支持外键
三、memory
数据存储在内存中
总结:
●MyISAM管理非事务表，提供高速存储和检索以及全文搜索能力，如果在应用中执行大量select操作，应该选择
MyISAM
. InnoDB用于事务处理，具有ACID事务支持等特性， 如果在应用中执行大量insert和update操作， 应该选择
InnoDB



### 5、建表注意事项

存储引擎：事务选Innodb、查询选MyISAM

字段：时分秒datetime、年月日date、字符类型固定char、不固定varchar，char比varchar快 varchar省空间

长文本字段使用text或longtext、二进制数据使用blob或longblob、对金额使用DECIMAL、对数据使用最小类型

主键：建议自然主键 int

大文本字段：text、blob建议单独键表加外键关联

不定义外键，但存在外键意义字段

设置字段默认值：状态、创建时间

每个字段写清楚注释

注意字段的约束





### 6、Spring Boot常见注解

```
@RestController
@Controller
@RequestBody
@ResponseBody
@PostMapping
@RequestMapping
@PathVariable
@Autowired
@Resource
```



### 7、项目的开发流程

1、产品人员设计产品原型。

**2、讨论需求。**
**3、分模块设计接口。**

**4、出接口文档。**
**5、将接口文档给到前端人员，前后端分离开发。**

**6、开发完毕进行测试。**
**7、测试完毕发布项目，由运维人员进行部署安装。**

## 开发

### 一、技术架构

- 前后端分离架构
- 层级分部
  - 用户层 H5、APP
  - CDN 内容分发
  - 负载层 负载均衡
  - UI层 页面
  - **微服务层** 
  - 数据层 数据库、缓存



### 二、具体实现

#### 一、创建工程

#### 二、创建数据库

#### 三、需求分析

1. 确认需求（解决什么问题）
2. 确认关键问题
3. 梳理业务流程
4. 界面原型
5. 数据建模
6. 编写需求规格说明书

### 三、内容管理模块

#### 一、分层

1. **接口层**
2. **实现层**
3. **模型层**

![image-20230518204441962](C:\Users\LDB\AppData\Roaming\Typora\typora-user-images\image-20230518204441962.png)

#### 二、接口设计分析

1. 请求方式
2. 请求参数
3. 响应参数
4. 不用的参数不要放在模型中

#### 三、接口文档

1. 采用swagger
2. 对日期进行序列化

#### 四、数据层开发

## 坑坑
